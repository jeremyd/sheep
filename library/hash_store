set -e
SHEEP_HASHSTORE_DIR=$SHEEP_DIR/cache/hash_store
cd $SHEEP_HASHSTORE_DIR

get_hash() {
  if test -z $1 ; then 
    echo you did not provide a keyname
    return 1
  fi
  
  if ! test -f $SHEEP_HASHSTORE_DIR/$1 ; then 
    echo "hash $1 does not exist! exiting"
    return 1
  fi

  cat $SHEEP_HASHSTORE_DIR/$1
}

put_hash() {

  if test -z $1 ; then 
    echo you did not provide a keyname
    return 1
  fi

  bar=
  while read foo ; do 
    if ! test -z "$bar"; then
      bar+=$'\n'
    fi 
    bar+=$foo
  done

  mkdir -p $SHEEP_HASHSTORE_DIR/$(dirname $1)
  echo "$bar" > $SHEEP_HASHSTORE_DIR/$1

}

delete_hash() {
:
}

