required_inputs=(
  SWITCH_NAME="name of switch"
  SOCKET_DIR="path to socket dir"
  MANAGEMENT_SOCKET="management socket"
  TAPNAME="tap intrface name"
  BRIDGE="bridge name "
  MASQ="do masquerading"
  BRIDGE_IP="bridge ip"
  PUBLIC_IFACE="public interface"
)

# parse command line inputs and ensure all required inputs are set
smart_parse $@
if ! verify_inputs required_inputs[@]; then
  echo
  ./help
  return 1
fi

cat <<EOC | put_hash /switches/$SWITCH_NAME
socket_dir=$SOCKET_DIR
management_socket=$MANAGEMENT_SOCKET
tapname=$TAPNAME
bridge=$BRIDGE
masq=$MASQ
ip_block=$IP_BLOCK
bridge_ip=$BRIDGE_IP
default_public_iface=$PUBLIC_IFACE
EOC

